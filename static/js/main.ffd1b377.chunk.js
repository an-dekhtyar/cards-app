(this["webpackJsonpcards-app"]=this["webpackJsonpcards-app"]||[]).push([[0],{13:function(e,t,n){e.exports={header:"Header_header__2kfeU",headerLink:"Header_headerLink__F3len",headerContain:"Header_headerContain__3B74T"}},18:function(e,t,n){e.exports={buttonOn:"Registration_buttonOn__3y4k-",PasswordError:"Registration_PasswordError__1VGQU"}},19:function(e,t,n){e.exports={superInput:"Input_superInput__1rP-f",errorInput:"Input_errorInput__2mPvP",error:"Input_error__3exKn",inputContain:"Input_inputContain__E7V0r"}},20:function(e,t,n){e.exports={restorePass:"RestorePass_restorePass__u2y86",restorePassContain:"RestorePass_restorePassContain__3udnY",restorePassContent:"RestorePass_restorePassContent__2qZLq",logo:"RestorePass_logo__1UQEt",emailLogo:"RestorePass_emailLogo__34YFc",loader:"RestorePass_loader__3Gdn9"}},21:function(e,t,n){e.exports={enterNewPass:"EnterNewPass_enterNewPass__1Etry",enterNewPassContain:"EnterNewPass_enterNewPassContain__1zUTp",enterNewPassContent:"EnterNewPass_enterNewPassContent__f01H0",logo:"EnterNewPass_logo__36p30",emailLogo:"EnterNewPass_emailLogo__32Tqq",loader:"EnterNewPass_loader__3uuZM"}},25:function(e,t,n){e.exports={default:"Button_default__3_p0N",red:"Button_red__25F_8",contain:"Button_contain__30O3h"}},26:function(e,t,n){e.exports={loginPage:"Login_loginPage__2Jic3",isLoading:"Login_isLoading__1u6fn",error:"Login_error__3XxSo"}},33:function(e,t,n){e.exports={checkbox:"Checkbox_checkbox__3m37W",spanClassName:"Checkbox_spanClassName__1Mhrp"}},44:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),r=n(22),c=n.n(r),o=(n(51),n(52),n(13)),i=n.n(o),l=n(6),u=n(3),j=n(7),d=n(18),b=n.n(d),O=n(4),h=n(15),p=n(19),x=n.n(p),f=n(0),g=function(e){var t=e.type,n=e.onChange,a=e.onChangeText,s=e.onKeyPress,r=e.onEnter,c=e.error,o=e.className,i=e.spanClassName,l=e.value,u=Object(h.a)(e,["type","onChange","onChangeText","onKeyPress","onEnter","error","className","spanClassName","value"]),j="".concat(x.a.error," ").concat(i||""),d="".concat(c?x.a.errorInput:x.a.superInput,"  ").concat(o);return Object(f.jsxs)("span",{className:x.a.inputContain,children:[Object(f.jsx)("span",{children:Object(f.jsx)("input",Object(O.a)({type:t,placeholder:u.placeholder,onChange:function(e){n&&n(e),a&&a(e.currentTarget.value)},onKeyPress:function(e){s&&s(e),r&&"Enter"===e.key&&r()},className:d,value:l},u))}),c&&Object(f.jsx)("span",{className:j,children:c})]})},m=n(25),_=n.n(m),N=function(e){var t=e.red,n=e.className,a=Object(h.a)(e,["red","className"]),s="".concat(t?_.a.red:_.a.default," ").concat(n);return Object(f.jsx)("span",{className:_.a.contain,children:Object(f.jsx)("button",Object(O.a)({className:s,children:a.children},a))})},P=n(34),E=n(43),S=n.n(E).a.create({baseURL:"https://neko-back.herokuapp.com/2.0",withCredentials:!0}),v=function(e,t){return S.post("/auth/register",{email:e,password:t})},w=function(e){return S.post("/auth/login",Object(O.a)({},e))},C=function(e){return S.post("auth/forgot",{email:e,from:"test-front-admin <ai73a@yandex.by>",message:"<div style=\"background-color: lime; padding: 15px\"> To change your password, please follow the link:<a href='http://localhost:3000/#/new-pass/$token$'>link</a></div>"})},T=function(e,t){return S.post("auth/set-new-password",{password:e,resetPasswordToken:t})},y=[],R=n(5),I=n.p+"static/media/preloader.576a7a69.svg",L=function(){return Object(f.jsx)("div",{children:Object(f.jsx)("img",{src:I})})},k=function(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(""),c=Object(j.a)(r,2),o=c[0],i=c[1],l=Object(a.useState)(""),d=Object(j.a)(l,2),O=d[0],h=d[1],p=Object(a.useState)(!1),x=Object(j.a)(p,2),m=x[0],_=x[1],P=Object(a.useState)(""),E=Object(j.a)(P,2),S=E[0],w=E[1],C=Object(a.useState)(""),T=Object(j.a)(C,2),y=T[0],I=T[1],k=Object(a.useState)(!1),A=Object(j.a)(k,2),G=A[0],F=A[1],U=Object(a.useState)(!1),W=Object(j.a)(U,2),D=W[0],M=W[1],B=Object(R.b)(),Y=Object(R.c)((function(e){return e.auth})),H=Y.find((function(e){return e.email})),q=function(){_(!0),o===O?(w(""),B(function(e,t,n,a,s){return function(r){a(!0),v(e,t).then((function(s){r(function(e,t,n){return{type:"addUser",email:e,password:t}}(e,t,s.config.data)),a(!1),n(!0),console.log(s.config.data)})).catch((function(e){console.log(e),a(!1),s("Email already exists, or your Password must be more than 7 characters...")}))}}(n,o,F,M,I))):(w("Check YOUR PASSWORD"),setTimeout((function(){w("false")}),3e3)),s(""),i(""),h("")};return Object(a.useEffect)((function(){}),[]),console.log(H),Object(f.jsxs)("div",{className:b.a.registrationPage,children:[D&&Object(f.jsx)(L,{}),G&&Object(f.jsx)(u.a,{to:"/login"}),Object(f.jsx)("h1",{children:"REGISTRATION PAGE"}),Object(f.jsx)(g,{value:n,onChangeText:s,placeholder:"Enter your EMAIL"}),Object(f.jsx)(g,{value:o,onChangeText:i,placeholder:"Enter your PASSWORD"}),Object(f.jsx)(g,{value:O,onChangeText:h,placeholder:"Enter your PASSWORD AGAIN"}),Object(f.jsx)("div",{className:b.a.PasswordError,children:S}),Object(f.jsx)("div",{className:b.a.PasswordError,children:y}),Object(f.jsx)(N,{children:"Send",onClick:function(){return q()}}),m&&Y.map((function(e){return Object(f.jsxs)("div",{className:b.a.buttonOn,children:[Object(f.jsxs)("div",{children:["Your Login=",e.email]}),Object(f.jsxs)("div",{children:["Your Password=",e.password1]})]})}))]})},A=n(44),G=n.n(A),F=function(){return Object(f.jsx)("div",{className:G.a.profilePage,children:Object(f.jsx)("h1",{children:"PROFILE PAGE"})})},U=n(20),W=n.n(U),D=n.p+"static/media/logo.70fefd3f.png",M=function(e){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("span",{children:"Check Email"}),Object(f.jsxs)("span",{children:["We\u2019ve sent an Email with instructions to ",e.userEmail]})]})},B=function(e){var t=Object(a.useState)(""),n=Object(j.a)(t,2),s=n[0],r=n[1];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h1",{children:"Forgot your password?"}),Object(f.jsx)(g,{value:s,onChangeText:r}),Object(f.jsx)("span",{children:"Enter your email address and we will send you further instruction"}),Object(f.jsx)(N,{children:"Send Instructions",onClick:function(){e.getInstruction(s)}}),Object(f.jsx)("span",{children:"Did you remember your password?"}),Object(f.jsx)(l.b,{to:xe.LOGIN,children:"Try logging in"})]})},Y={email:"",isNotifySent:!1,isFetching:!0,isNewPasswordSet:!1},H="cards-app/restore-pass/SET_EMAIL",q="cards-app/restore-pass/NOTIFY_SENT",K="cards-app/restore-pass/TOGGLE_IS_FETCHING",V="cards-app/restore-pass/PASSWORD_SET_SUCCESS",J=function(e){return{type:K,isFetching:e}},Q=function(e){return function(t){t(J(!1)),C(e).then((function(n){n.data.success&&t(function(e){return{type:H,email:e}}(e)),t(J(!0)),t({type:q,isNotifySent:!0})})).catch((function(e){e&&console.log("Some Error"),t(J(!0))}))}},Z=function(e,t){return function(n){n(J(!1)),T(e,t).then((function(e){e.data&&n({type:V,isNewPasswordSet:!0}),n(J(!0))})).catch((function(e){e&&n(J(!0))}))}},$={backgroundImage:"url(".concat(D,")")},z=function(){var e=Object(R.b)(),t=Object(R.c)((function(e){return e.restorePass.email})),n=Object(R.c)((function(e){return e.restorePass.isNotifySent})),a=Object(R.c)((function(e){return e.restorePass.isFetching}));return Object(f.jsx)("div",{className:W.a.restorePass,children:Object(f.jsxs)("div",{className:W.a.restorePassContain,children:[Object(f.jsx)("div",{className:W.a.logo,style:$}),a?Object(f.jsx)("div",{className:W.a.restorePassContent,children:n?Object(f.jsx)(M,{userEmail:t}):Object(f.jsx)(B,{getInstruction:function(t){e(Q(t))}})}):Object(f.jsx)(L,{})]})})},X=n(21),ee=n.n(X),te=function(e){var t=e.value,n=e.setValue,a=e.createNewPassword;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h1",{children:"Create new password"}),Object(f.jsx)(g,{value:t,onChangeText:n}),Object(f.jsx)("span",{children:"Create new password"}),Object(f.jsx)(N,{children:"Create new password",onClick:function(){a(t)}})]})},ne=function(){var e={backgroundImage:"url(".concat(D,")")},t=Object(a.useState)(""),n=Object(j.a)(t,2),s=n[0],r=n[1],c=Object(R.c)((function(e){return e.restorePass.isNewPasswordSet})),o=Object(R.c)((function(e){return e.restorePass.isFetching})),i=Object(R.b)(),l=Object(u.g)(),d=l.pathname.substring(l.pathname.lastIndexOf("/")+1);return Object(f.jsx)("div",{className:ee.a.enterNewPass,children:Object(f.jsxs)("div",{className:ee.a.enterNewPassContain,children:[Object(f.jsx)("div",{className:ee.a.logo,style:e}),Object(f.jsxs)("div",{className:ee.a.enterNewPassContent,children:[o?Object(f.jsx)(te,{value:s,setValue:r,createNewPassword:function(e){i(Z(e,d))}}):Object(f.jsx)(L,{}),c&&Object(f.jsx)(u.a,{to:xe.LOGIN})]})]})})},ae=n(26),se=n.n(ae),re=n(32),ce=n.n(re),oe=n(45),ie={isLoading:!1,isAuth:!1,_id:null,email:null,name:null,rememberMe:!1,avatar:null,publicCardPacksCount:null,created:null,updated:null,isAdmin:!1,verified:!1,error:null},le=function(e){return{type:"cards-app/login/TOGGLE-IS-LOADING",payload:{isLoading:e}}},ue=function(e){return{type:"cards-app/login/SET-ERROR",payload:{error:e}}},je=function(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(""),c=Object(j.a)(r,2),o=c[0],i=c[1],d=Object(a.useState)(!1),b=Object(j.a)(d,2),h=b[0],p=b[1],x=Object(R.b)(),m=Object(R.c)((function(e){return e.login.isAuth})),_=Object(R.c)((function(e){return e.login.error})),P=Object(R.c)((function(e){return e.login.isLoading}));if(m)return Object(f.jsx)(u.a,{to:xe.PROFILE});return Object(f.jsxs)("div",{className:se.a.loginPage,children:[Object(f.jsx)("h1",{children:"LOGIN PAGE"}),P&&Object(f.jsx)("span",{className:se.a.isLoading,children:"loading"}),_&&Object(f.jsx)("span",{className:se.a.error,children:_}),Object(f.jsxs)("label",{children:["Email ",Object(f.jsx)(g,{type:"email",value:n,placeholder:"example@gmail.com",onChange:function(e){s(e.currentTarget.value)}})]}),Object(f.jsxs)("label",{children:["Password ",Object(f.jsx)(g,{type:"password",value:o,onChange:function(e){i(e.currentTarget.value)}})]}),Object(f.jsxs)("label",{children:["Remember me ",Object(f.jsx)("input",{type:"checkbox",checked:h,onChange:function(e){p(e.currentTarget.checked)}})]}),Object(f.jsx)(l.b,{to:xe.ENTER_NEW_PASS,children:"Forgot Password"}),Object(f.jsx)(N,{onClick:function(){var e;x(ue(null)),x((e={email:n,password:o,rememberMe:h},function(){var t=Object(oe.a)(ce.a.mark((function t(n){var a,s;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(le(!0)),t.prev=1,t.next=4,w(e);case 4:a=t.sent,n((r=a.data,{type:"cards-app/login/SET-USER-PARAMS",payload:Object(O.a)({},r)})),n({type:"cards-app/login/SET-ERROR",payload:{isAuth:!0}}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),s=t.t0.response?t.t0.response.data.error:t.t0.message+", more details in console",n(ue(s));case 13:n(le(!1));case 14:case"end":return t.stop()}var r}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()))},disabled:P,children:"Login"}),Object(f.jsx)("p",{children:"Don't have an account?"}),Object(f.jsx)(l.b,{to:xe.REGISTRATION,children:"Sing up"})]})},de=n(33),be=n.n(de),Oe=function(e){e.type;var t=e.onChange,n=e.onChangeChecked,a=e.className,s=(e.spanClassName,e.children),r=Object(h.a)(e,["type","onChange","onChangeChecked","className","spanClassName","children"]),c="".concat(be.a.checkbox," ").concat(a||"");return Object(f.jsxs)("label",{children:[Object(f.jsx)("input",Object(O.a)({type:"checkbox",onChange:function(e){t&&t(e),n&&n(e.currentTarget.checked)},className:c},r)),s&&Object(f.jsx)("span",{className:be.a.spanClassName,children:s})]})},he=function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"TEST PAGE"}),Object(f.jsx)(N,{children:"Button"}),Object(f.jsx)(g,{}),Object(f.jsx)(Oe,{})]})},pe=function(){return Object(f.jsx)("div",{children:Object(f.jsx)("h1",{children:"404"})})},xe={LOGIN:"/login",REGISTRATION:"/registration",PROFILE:"/profile",PAGE_404:"/404",RESTORE_PASS:"/restore-pass",ENTER_NEW_PASS:"/new-pass",TEST:"/test"},fe=function(){return Object(f.jsx)("div",{children:Object(f.jsxs)(u.d,{children:[Object(f.jsx)(u.b,{path:"/",exact:!0,render:function(){return Object(f.jsx)(u.a,{to:xe.PROFILE})}}),Object(f.jsx)(u.b,{path:xe.LOGIN,render:function(){return Object(f.jsx)(je,{})}}),Object(f.jsx)(u.b,{path:xe.REGISTRATION,render:function(){return Object(f.jsx)(k,{})}}),Object(f.jsx)(u.b,{path:xe.PROFILE,render:function(){return Object(f.jsx)(F,{})}}),Object(f.jsx)(u.b,{path:xe.RESTORE_PASS,render:function(){return Object(f.jsx)(z,{})}}),Object(f.jsx)(u.b,{path:xe.ENTER_NEW_PASS,render:function(){return Object(f.jsx)(ne,{})}}),Object(f.jsx)(u.b,{path:xe.TEST,render:function(){return Object(f.jsx)(he,{})}}),Object(f.jsx)(u.b,{path:xe.PAGE_404,render:function(){return Object(f.jsx)(pe,{})}}),Object(f.jsx)(u.a,{from:"*",to:xe.PAGE_404})]})})},ge=function(){return Object(f.jsx)("div",{className:i.a.header,children:Object(f.jsxs)("div",{className:i.a.headerContain,children:[Object(f.jsx)(l.b,{to:xe.LOGIN,className:i.a.headerLink,children:"Login"}),Object(f.jsx)(l.b,{to:xe.REGISTRATION,className:i.a.headerLink,children:"Registration"}),Object(f.jsx)(l.b,{to:xe.PROFILE,className:i.a.headerLink,children:"Profile"}),Object(f.jsx)(l.b,{to:xe.PAGE_404,className:i.a.headerLink,children:"404"}),Object(f.jsx)(l.b,{to:xe.RESTORE_PASS,className:i.a.headerLink,children:"Restore Password"}),Object(f.jsx)(l.b,{to:xe.ENTER_NEW_PASS,className:i.a.headerLink,children:"Enter new Password"}),Object(f.jsx)(l.b,{to:xe.TEST,className:i.a.headerLink,children:"Test Super Components"})]})})},me=function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)(ge,{}),Object(f.jsx)(fe,{})]})},_e=n(27),Ne=n(46),Pe=Object(_e.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"addUser":var n=Object(P.a)(e),a={email:t.email,password1:t.password};return[].concat(Object(P.a)(n),[a]);default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"cards-app/login/SET-USER-PARAMS":case"cards-app/login/SET-ERROR":case"cards-app/login/TOGGLE-IS-LOADING":return Object(O.a)(Object(O.a)({},e),t.payload);default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e},restorePass:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return Object(O.a)(Object(O.a)({},e),{},{email:t.email});case q:return Object(O.a)(Object(O.a)({},e),{},{isNotifySent:t.isNotifySent});case K:return Object(O.a)(Object(O.a)({},e),{},{isFetching:t.isFetching});case V:return Object(O.a)(Object(O.a)({},e),{},{isNewPasswordSet:t.isNewPasswordSet});default:return e}}}),Ee=Object(_e.c)(Pe,Object(_e.a)(Ne.a)),Se=function(){return Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(R.a,{store:Ee,children:Object(f.jsx)(l.a,{children:Object(f.jsx)(me,{})})})})},ve=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,79)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),r(e),c(e)}))};c.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(Se,{})}),document.getElementById("root")),ve()}},[[78,1,2]]]);
//# sourceMappingURL=main.ffd1b377.chunk.js.map